<%= turbo_frame_tag 'messages_frame' do %>
  <div class="flex flex-col mt-5 overflow-y-auto"
       data-controller="chat">
    <!--stream to "messages_room_1"-->
    <%= turbo_stream_from dom_id(@room, "messages") %>
    <div id="<%= dom_id(@room, "messages") %>">
      <%= render partial: "messages/message", collection: @messages, as: :message, locals: { user: current_user } %>
    </div>
  </div>
  <%= render partial: "form", locals: { message: message } %>
<% end %>